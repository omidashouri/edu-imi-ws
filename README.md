# edu-imi-ws
IMI Education Web Service

------------------------------

***set cascade for Role_ID to null

CREATE SEQUENCE CRM.SEQ_PERSON_API_ID INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20;


   CREATE TABLE "CRM"."TBL_PERSON_API" 
     (	"ID" NUMBER NOT NULL ENABLE, 
  	"PERSON_ID" NUMBER, 
  	"PERSON_PUBLIC_ID" NVARCHAR2(500), 
  	"ENCRYPTED_PASSWORD" NVARCHAR2(500), 
  	"EMAIL_VERIFICATION_TOKEN" NVARCHAR2(500), 
  	"EMAIL_VERIFICATION_STATUS" NUMBER, 
  	"CREATOR_ID" NUMBER, 
  	"CREATE_DATE_TS" TIMESTAMP (6), 
  	"EDITOR_ID" NUMBER, 
  	"EDIT_DATE_TS" TIMESTAMP (6), 
  	"DESCRIPTION" NVARCHAR2(500), 
  	"CONTACT_ID" NUMBER, 
  	"CONTACT_PUBLIC_ID" NVARCHAR2(500), 
  	"ROLE_ID" NUMBER ",
    "PERSON_EDIT_DATE" NVARCHAR2(10), 
    "CONTACT_EDIT_DATE" NVARCHAR2(10),
    "ACCOUNT_ENABLED" NUMBER, 
    "ACCOUNT_NON_EXPIRED" NUMBER, 
    "CREDENTIALS_NON_EXPIRED" NUMBER, 
    "ACCOUNT_NON_LOCKED" NUMBER, 
  	 CONSTRAINT "TBL_PERSON_API_PK" PRIMARY KEY ("ID")
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    TABLESPACE "USERS"  ENABLE, 
  	 CONSTRAINT "TBL_PERSON_API_UK1" UNIQUE ("PERSON_PUBLIC_ID")
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    TABLESPACE "USERS"  ENABLE,
    CONSTRAINT "TBL_PERSON_API_UK2" UNIQUE ("PERSON_ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
      TABLESPACE "USERS"  ENABLE,
      CONSTRAINT "TBL_PERSON_API_UK3" UNIQUE ("CONTACT_ID")
        USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
        TABLESPACE "USERS"  ENABLE, 
      	 CONSTRAINT "TBL_PERSON_API_UK4" UNIQUE ("CONTACT_PUBLIC_ID")
        USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
        TABLESPACE "USERS"  ENABLE, 
  	 CONSTRAINT "TBL_PERSON_API_FK1" FOREIGN KEY ("PERSON_ID")
     	  REFERENCES "CRM"."TBL_PERSON" ("ID") ENABLE, 
     	 CONSTRAINT "TBL_PERSON_API_FK4" FOREIGN KEY ("CONTACT_ID")
     	  REFERENCES "CRM"."TBL_CONTACT" ("ID") ENABLE, 
     	 CONSTRAINT "TBL_PERSON_API_FK5" FOREIGN KEY ("ROLE_ID")
     	  REFERENCES "CRM"."TBL_ROLE_API" ("ID") ON DELETE SET NULL ENABLE, 
     	 CONSTRAINT "TBL_PERSON_API_FK2" FOREIGN KEY ("CREATOR_ID")
     	  REFERENCES "CRM"."TBL_PERSON" ("ID") ON DELETE SET NULL ENABLE, 
     	 CONSTRAINT "TBL_PERSON_API_FK3" FOREIGN KEY ("EDITOR_ID")
     	  REFERENCES "CRM"."TBL_PERSON" ("ID") ON DELETE SET NULL ENABLE
     ) SEGMENT CREATION DEFERRED 
    PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
    TABLESPACE "USERS" ;
  
     COMMENT ON COLUMN "CRM"."TBL_PERSON_API"."EMAIL_VERIFICATION_STATUS" IS 'NUMBER(1,0)';
  
    CREATE OR REPLACE TRIGGER "CRM"."TBL_PERSON_API_TRG" 
  BEFORE INSERT ON CRM.TBL_PERSON_API 
  FOR EACH ROW 
  BEGIN
    <<COLUMN_SEQUENCES>>
    BEGIN
      NULL;
    END COLUMN_SEQUENCES;
  END;
  /
  ALTER TRIGGER "CRM"."TBL_PERSON_API_TRG" ENABLE;


--- --- ---

   CREATE SEQUENCE  "CRM"."SEQ_CONTACT_API"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;


  CREATE TABLE "CRM"."TBL_CONTACT_API" 
     (	"ID" NUMBER NOT NULL ENABLE, 
  	"CONTACT_PUBLIC_ID" NVARCHAR2(500) NOT NULL ENABLE, 
  	"CREATOR_ID" NUMBER, 
  	"CREATE_DATE_TS" TIMESTAMP (6), 
  	"EDITOR_ID" NUMBER, 
  	"EDIT_DATE_TS" TIMESTAMP (6), 
  	"CONTACT_ID" NUMBER, 
  	"CONTACT_EDIT_DATE" NVARCHAR2(10), 
  	 CONSTRAINT "TBL_CONTACT_API_PK" PRIMARY KEY ("ID")
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    TABLESPACE "USERS"  ENABLE, 
     CONSTRAINT "TBL_CONTACT_API_UK1" UNIQUE ("CONTACT_PUBLIC_ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
      TABLESPACE "USERS"  ENABLE, 
    	 CONSTRAINT "TBL_CONTACT_API_UK2" UNIQUE ("CONTACT_ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
      TABLESPACE "USERS"  ENABLE,   
  	 CONSTRAINT "TBL_CONTACT_API_FK1" FOREIGN KEY ("EDITOR_ID")
  	  REFERENCES "CRM"."TBL_PERSON" ("ID") ENABLE, 
  	 CONSTRAINT "TBL_CONTACT_API_FK2" FOREIGN KEY ("CREATOR_ID")
  	  REFERENCES "CRM"."TBL_PERSON" ("ID") ENABLE, 
  	 CONSTRAINT "TBL_CONTACT_API_FK3" FOREIGN KEY ("CONTACT_ID")
  	  REFERENCES "CRM"."TBL_CONTACT" ("ID") ENABLE
     ) SEGMENT CREATION DEFERRED 
    PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
    TABLESPACE "USERS" ;
  
    CREATE OR REPLACE TRIGGER "CRM"."TBL_CONTACT_API_TRG" 
  BEFORE INSERT ON CRM.TBL_CONTACT_API 
  FOR EACH ROW 
  BEGIN
    <<COLUMN_SEQUENCES>>
    BEGIN
      NULL;
    END COLUMN_SEQUENCES;
  END;
  /
  ALTER TRIGGER "CRM"."TBL_CONTACT_API_TRG" ENABLE;


// enable validity to user crm

------------------------------

   CREATE SEQUENCE  "EDU"."SEQ_PERIOD_API"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;


  CREATE TABLE "EDU"."TBL_PERIOD_API" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"PERIOD_ID" NUMBER, 
	"PERIOD_PUBLIC_ID" NVARCHAR2(500), 
	"DESCRIPTION" NVARCHAR2(500), 
	"CAN_REGISTER_ONLINE" NVARCHAR2(15), 
	"CREATE_DATE_TS" TIMESTAMP (6), 
	"EDIT_DATE_TS" TIMESTAMP (6), 
	"DELETE_TS" TIMESTAMP (6), 
    "PERIOD_EDIT_DATE" VARCHAR2(10 BYTE), 
    "FIELD_ID" NUMBER, 
    "FIELD_PUBLIC_ID" NVARCHAR2(500), 
	 CONSTRAINT "TBL_PERIOD_API_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "TBL_PERIOD_API_FK1" FOREIGN KEY ("PERIOD_ID")
	  REFERENCES "EDU"."TBL_PERIOD" ("ID") ENABLE,
     CONSTRAINT "TBL_PERIOD_API_FK1" FOREIGN KEY ("FIELD_ID")
      REFERENCES "EDU"."TBL_FIELD" ("ID") ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;

  CREATE OR REPLACE TRIGGER "EDU"."TBL_PERIOD_API_TRG" 
BEFORE INSERT ON EDU.TBL_PERIOD_API 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.ID IS NULL THEN
      SELECT SEQ_PERIOD_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "EDU"."TBL_PERIOD_API_TRG" ENABLE;

// enable validity to user crm


------------------------------

   CREATE SEQUENCE  "EDU"."SEQ_STUDENT_API"  MINVALUE 1 MAXVALUE 999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;


   CREATE TABLE "EDU"."TBL_STUDENT_API" 
     (	"ID" NUMBER NOT NULL ENABLE, 
  	"PERSON_ID" NUMBER, 
  	"STUDENT_PUBLIC_ID" NVARCHAR2(500), 
  	"PERSON_PUBLIC_ID" NVARCHAR2(500), 
  	"CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
  	"EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
  	"STUDENT_DELETE_STATUS" NUMBER, 
  	"DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
  	"STUDENT_ID" NUMBER, 
  	"STUDENT_EDIT_DATE" NVARCHAR2(10), 
  	 CONSTRAINT "TBL_STUDENT_API_PK" PRIMARY KEY ("ID")
    USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
    TABLESPACE "USERS"  ENABLE, 
  	 CONSTRAINT "TBL_STUDENT_API_FK1" FOREIGN KEY ("PERSON_ID")
  	  REFERENCES "CRM"."TBL_PERSON" ("ID") ENABLE, 
  	 CONSTRAINT "TBL_STUDENT_API_FK2" FOREIGN KEY ("STUDENT_ID")
  	  REFERENCES "EDU"."TBL_STUDENT" ("ID") ENABLE
     ) SEGMENT CREATION DEFERRED 
    PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
    TABLESPACE "USERS" ;
  
    CREATE OR REPLACE TRIGGER "EDU"."TBL_STUDENT_API_TRG" 
  BEFORE INSERT ON EDU.TBL_STUDENT_API 
  FOR EACH ROW 
  BEGIN
    <<COLUMN_SEQUENCES>>
    BEGIN
      NULL;
    END COLUMN_SEQUENCES;
  END;
  /
  ALTER TRIGGER "EDU"."TBL_STUDENT_API_TRG" ENABLE;


------------------------------

CREATE SEQUENCE  "EDU"."SEQ_REGISTER_API"  MINVALUE 1 MAXVALUE 999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;


CREATE TABLE "EDU"."TBL_REGISTER_API" 
   (	"ID" NUMBER NOT NULL ENABLE, 
	"REGISTER_ID" NUMBER, 
	"PERIOD_ID" NUMBER, 
	"STUDENT_ID" NUMBER, 
	"REGISTER_PUBLIC_ID" NVARCHAR2(500), 
	"PERIOD_PUBLIC_ID" NVARCHAR2(500), 
	"STUDENT_PUBLIC_ID" NVARCHAR2(500), 
	"REGISTER_DELETE_STATUS" NUMBER, 
	"REGISTER_ACTIVITY_STATUS" NUMBER, 
	"REGISTER_EDIT_DATE" NVARCHAR2(10), 
	"CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
	"EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
	"DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
	 CONSTRAINT "TBL_REGISTER_API_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "TBL_REGISTER_API_FK1" FOREIGN KEY ("PERIOD_ID")
	  REFERENCES "EDU"."TBL_PERIOD" ("ID") ENABLE, 
	 CONSTRAINT "TBL_REGISTER_API_FK2" FOREIGN KEY ("REGISTER_ID")
	  REFERENCES "EDU"."TBL_REGISTER" ("ID") ENABLE, 
	 CONSTRAINT "TBL_REGISTER_API_FK3" FOREIGN KEY ("STUDENT_ID")
	  REFERENCES "EDU"."TBL_STUDENT" ("ID") ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;

  CREATE OR REPLACE TRIGGER "EDU"."TBL_REGISTER_API_TRG" 
BEFORE INSERT ON EDU.TBL_REGISTER_API 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.ID IS NULL THEN
      SELECT SEQ_REGISTER_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "EDU"."TBL_REGISTER_API_TRG" ENABLE;




------------------------------

   CREATE SEQUENCE  "CRM"."SEQ_PRIVILEGE_API_ID"  MINVALUE 1 MAXVALUE 99999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

      CREATE TABLE "CRM"."TBL_PRIVILEGE_API" 
         (	"ID" NUMBER NOT NULL ENABLE, 
      	"NAME" NVARCHAR2(100), 
      	"ROLE_ID" NUMBER, 
      	"CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
      	"EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
      	"CREATOR_ID" NUMBER, 
      	"EDITOR_ID" NUMBER, 
      	"DESCRIPTION" NVARCHAR2(500), 
      	"DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
      	"PRIVILEGE_PUBLIC_ID" NVARCHAR2(500),
      	 CONSTRAINT "TBL_PRIVILEGE_API_PK" PRIMARY KEY ("ID")
        USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
        TABLESPACE "USERS"  ENABLE, 
      	 CONSTRAINT "TBL_PRIVILEGE_API_FK1" FOREIGN KEY ("ROLE_ID")
      	  REFERENCES "CRM"."TBL_ROLE_API" ("ID") ON DELETE CASCADE ENABLE
         ) SEGMENT CREATION DEFERRED 
        PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
        TABLESPACE "USERS" ;
      
        CREATE OR REPLACE TRIGGER "CRM"."TBL_PRIVILEGE_API_TRG" 
      BEFORE INSERT ON TBL_PRIVILEGE_API 
      FOR EACH ROW 
      BEGIN
        <<COLUMN_SEQUENCES>>
        BEGIN
          NULL;
        END COLUMN_SEQUENCES;
      END;
      /
      ALTER TRIGGER "CRM"."TBL_PRIVILEGE_API_TRG" ENABLE;

------------------------------

   CREATE SEQUENCE  "CRM"."SEQ_ROLE_API_ID"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

         CREATE TABLE "CRM"."TBL_ROLE_API" 
            (	"ID" NUMBER NOT NULL ENABLE, 
         	"NAME" NVARCHAR2(100), 
         	"PRIVILEGE_ID" NUMBER, 
         	"CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
         	"EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
         	"DESCRIPTION" NVARCHAR2(500), 
         	"CREATOR_ID" NUMBER, 
         	"EDITOR_ID" NUMBER, 
         	"DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
         	"PERSON_API_ID" NUMBER, 
         	"ROLE_PUBLIC_ID" NVARCHAR2(500), 
         	 CONSTRAINT "TBL_ROLE_API_PK" PRIMARY KEY ("ID")
           USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
           TABLESPACE "USERS"  ENABLE, 
         	 CONSTRAINT "TBL_ROLE_API_FK1" FOREIGN KEY ("PRIVILEGE_ID")
         	  REFERENCES "CRM"."MD_PRIVILEGES" ("ID") ON DELETE SET NULL ENABLE,
         	  CONSTRAINT "TBL_ROLE_API_FK2" FOREIGN KEY ("PERSON_API_ID")
              	  REFERENCES "CRM"."TBL_PERSON_API" ("ID") ENABLE
            ) SEGMENT CREATION DEFERRED 
           PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
           TABLESPACE "USERS" ;
         
           CREATE OR REPLACE TRIGGER "CRM"."TBL_ROLE_API_TRG" 
         BEFORE INSERT ON TBL_ROLE_API 
         FOR EACH ROW 
         BEGIN
           <<COLUMN_SEQUENCES>>
           BEGIN
             NULL;
           END COLUMN_SEQUENCES;
         END;
         /
         ALTER TRIGGER "CRM"."TBL_ROLE_API_TRG" ENABLE;


------------------------------

   CREATE SEQUENCE  "CRM"."SEQ_ROLE_PRIVILEGE_API"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

      CREATE TABLE "CRM"."TBL_ROLE_PRIVILEGE_API" 
         (	"ID" NUMBER NOT NULL ENABLE, 
      	"ROLE_API_ID" NUMBER, 
      	"PRIVILEGE_API_ID" NUMBER, 
      	 CONSTRAINT "TBL_ROLE_PRIVILEGE_API_PK" PRIMARY KEY ("ID")
        USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
        TABLESPACE "USERS"  ENABLE, 
      	 CONSTRAINT "TBL_ROLE_PRIVILEGE_API_FK1" FOREIGN KEY ("ROLE_API_ID")
      	  REFERENCES "CRM"."TBL_ROLE_API" ("ID") ON DELETE CASCADE ENABLE, 
      	 CONSTRAINT "TBL_ROLE_PRIVILEGE_API_FK2" FOREIGN KEY ("PRIVILEGE_API_ID")
      	  REFERENCES "CRM"."TBL_PRIVILEGE_API" ("ID") ON DELETE SET NULL ENABLE
         ) SEGMENT CREATION DEFERRED 
        PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
        TABLESPACE "USERS" ;
      
        CREATE OR REPLACE TRIGGER "CRM"."TBL_ROLE_PRIVILEGE_API_TRG" 
      BEFORE INSERT ON TBL_ROLE_PRIVILEGE_API 
      FOR EACH ROW 
      BEGIN
        <<COLUMN_SEQUENCES>>
        BEGIN
          IF INSERTING AND :NEW.ID IS NULL THEN
            SELECT SEQ_ROLE_PRIVILEGE_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
          END IF;
        END COLUMN_SEQUENCES;
      END;
      /
      ALTER TRIGGER "CRM"."TBL_ROLE_PRIVILEGE_API_TRG" ENABLE;
    
    
    
------------------------------

   CREATE SEQUENCE  "CRM"."SEQ_PERSON_ROLE_API"  MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

    CREATE TABLE "CRM"."TBL_PERSON_ROLE_API" 
       (	"ID" NUMBER NOT NULL ENABLE, 
    	"PERSON_API_ID" NUMBER, 
    	"ROLE_API_ID" NUMBER, 
    	 CONSTRAINT "TBL_PERSON_ROLE_PK" PRIMARY KEY ("ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
      TABLESPACE "USERS"  ENABLE, 
    	 CONSTRAINT "TBL_PERSON_ROLE_API_FK1" FOREIGN KEY ("PERSON_API_ID")
    	  REFERENCES "CRM"."TBL_PERSON_API" ("ID") ON DELETE CASCADE ENABLE, 
    	 CONSTRAINT "TBL_PERSON_ROLE_API_FK2" FOREIGN KEY ("ROLE_API_ID")
    	  REFERENCES "CRM"."TBL_ROLE_API" ("ID") ON DELETE SET NULL ENABLE
       ) SEGMENT CREATION DEFERRED 
      PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
      TABLESPACE "USERS" ;
    
      CREATE OR REPLACE TRIGGER "CRM"."TBL_PERSON_ROLE_API_TRG" 
    BEFORE INSERT ON TBL_PERSON_ROLE_API 
    FOR EACH ROW 
    BEGIN
      <<COLUMN_SEQUENCES>>
      BEGIN
        IF INSERTING AND :NEW.ROLE_API_ID IS NULL THEN
          SELECT SEQ_PERSON_ROLE_API.NEXTVAL INTO :NEW.ROLE_API_ID FROM SYS.DUAL;
        END IF;
      END COLUMN_SEQUENCES;
    END;
    /
    ALTER TRIGGER "CRM"."TBL_PERSON_ROLE_API_TRG" ENABLE;




------------------------------

   CREATE SEQUENCE  "EDU"."SEQ_EDU_LEVEL_API"  MINVALUE 1 MAXVALUE 99999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

      CREATE TABLE "EDU"."TBL_LEVEL_API" 
       (	"ID" NUMBER NOT NULL ENABLE, 
        "LEVEL_ID" NUMBER, 
        "LEVEL_PUBLIC_ID" NVARCHAR2(500), 
        "LEVEL_DELETE_STATUS" NUMBER, 
        "LEVEL_EDIT_DATE" NVARCHAR2(10), 
        "CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
        "EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
        "DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
         CONSTRAINT "TBL_LEVEL_API_PK" PRIMARY KEY ("ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
      TABLESPACE "USERS"  ENABLE, 
         CONSTRAINT "TBL_LEVEL_API_FK1" FOREIGN KEY ("LEVEL_ID")
          REFERENCES "EDU"."TBL_LEVEL" ("ID") ENABLE
       ) SEGMENT CREATION DEFERRED 
      PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
      TABLESPACE "USERS" ;
    
      CREATE OR REPLACE TRIGGER "EDU"."TBL_LEVEL_API_TRG" 
    BEFORE INSERT ON EDU.TBL_LEVEL_API 
    FOR EACH ROW 
    BEGIN
      <<COLUMN_SEQUENCES>>
      BEGIN
        IF INSERTING AND :NEW.ID IS NULL THEN
          SELECT SEQ_EDU_LEVEL_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
        END IF;
      END COLUMN_SEQUENCES;
    END;
    /
    ALTER TRIGGER "EDU"."TBL_LEVEL_API_TRG" ENABLE;

------------------------------

   CREATE SEQUENCE  "EDU"."SEQ_EDU_CATEGORY_API"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
    
      CREATE TABLE "EDU"."TBL_EDU_CATEGORY_API" 
       (	"ID" NUMBER NOT NULL ENABLE, 
    	"EDU_CATEGORY_ID" NUMBER, 
    	"EDU_CATEGORY_PUBLIC_ID" NVARCHAR2(500), 
    	"EDU_CATEGORY_EDIT_DATE" NVARCHAR2(10), 
    	"CREATE_DATE_TS" TIMESTAMP (6), 
    	"EDIT_DATE_TS" TIMESTAMP (6), 
    	"DELETE_DATE_TS" TIMESTAMP (6), 
    	 CONSTRAINT "TBL_EDU_CATEGORY_API_PK" PRIMARY KEY ("ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
      TABLESPACE "USERS"  ENABLE, 
    	 CONSTRAINT "TBL_EDU_CATEGORY_API_FK1" FOREIGN KEY ("EDU_CATEGORY_ID")
    	  REFERENCES "EDU"."TBL_EDU_CATEGORY" ("ID") ENABLE
       ) SEGMENT CREATION DEFERRED 
      PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
      TABLESPACE "USERS" ;
    
      CREATE OR REPLACE TRIGGER "EDU"."TBL_EDU_CATEGORY_API_TRG" 
    BEFORE INSERT ON EDU.TBL_EDU_CATEGORY_API 
    FOR EACH ROW 
    BEGIN
      <<COLUMN_SEQUENCES>>
      BEGIN
        IF INSERTING AND :NEW.ID IS NULL THEN
          SELECT SEQ_EDU_CATEGORY_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
        END IF;
      END COLUMN_SEQUENCES;
    END;
    /
    ALTER TRIGGER "EDU"."TBL_EDU_CATEGORY_API_TRG" ENABLE;



------------------------------

   CREATE SEQUENCE  "EDU"."SEQ_FIELD_API"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

    CREATE TABLE "EDU"."TBL_FIELD_API" 
       (	"ID" NUMBER NOT NULL ENABLE, 
    	"FIELD_ID" NUMBER, 
    	"FIELD_PUBLIC_ID" NVARCHAR2(500), 
    	"FIELD_DELETE_STATUS" NUMBER, 
    	"FIELD_EDIT_DATE" NVARCHAR2(10), 
    	"LEVEL_ID" NUMBER, 
    	"LEVEL_PUBLIC_ID" NVARCHAR2(500), 
    	"EDU_CATEGORY_ID" NUMBER, 
    	"EDU_CATEGORY_PUBLIC_ID" NVARCHAR2(500), 
    	"CREATE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
    	"EDIT_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
    	"DELETE_DATE_TS" TIMESTAMP (6) WITH TIME ZONE, 
    	 CONSTRAINT "TBL_FIELD_API_PK" PRIMARY KEY ("ID")
      USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
      TABLESPACE "USERS"  ENABLE, 
    	 CONSTRAINT "TBL_FIELD_API_FK1" FOREIGN KEY ("FIELD_ID")
    	  REFERENCES "EDU"."TBL_FIELD" ("ID") ENABLE, 
    	 CONSTRAINT "TBL_FIELD_API_FK2" FOREIGN KEY ("LEVEL_ID")
    	  REFERENCES "EDU"."TBL_LEVEL" ("ID") ENABLE, 
    	 CONSTRAINT "TBL_FIELD_API_FK3" FOREIGN KEY ("EDU_CATEGORY_ID")
    	  REFERENCES "EDU"."TBL_EDU_CATEGORY" ("ID") ENABLE
       ) SEGMENT CREATION DEFERRED 
      PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
      TABLESPACE "USERS" ;
    
      CREATE OR REPLACE TRIGGER "EDU"."TBL_FIELD_API_TRG" 
    BEFORE INSERT ON EDU.TBL_FIELD_API 
    FOR EACH ROW 
    BEGIN
      <<COLUMN_SEQUENCES>>
      BEGIN
        IF INSERTING AND :NEW.ID IS NULL THEN
          SELECT SEQ_FIELD_API.NEXTVAL INTO :NEW.ID FROM SYS.DUAL;
        END IF;
      END COLUMN_SEQUENCES;
    END;
    /
    ALTER TRIGGER "EDU"."TBL_FIELD_API_TRG" ENABLE;


------------------------------



------------------------------